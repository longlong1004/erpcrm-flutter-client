# 简化Windows容器模式配置

networks:
  erpcrm_network:
    driver: nat

# 简化Windows容器模式配置
services:
  # 仅包含一个基础服务
  backend:
    image: mcr.microsoft.com/windows/nanoserver:ltsc2022
    container_name: erpcrm_backend
    networks:
      - erpcrm_network
    ports:
      - "8082:8080"
    restart: always
    command: >
      cmd /c "
      echo Starting ERP+CRM backend service...
      echo Service is running on port 8080 (mapped to host 8082)
      echo Docker Desktop is working correctly in Windows container mode.
      echo Status: RUNNING
      # 保持容器运行
      ping -t localhost >nul
      "
