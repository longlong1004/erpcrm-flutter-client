# ç¬¬ä¸€é˜¶æ®µï¼šæ„å»ºé˜¶æ®?FROM maven:3.9.4-eclipse-temurin-17 AS builder

WORKDIR /app

# å¤åˆ¶pom.xmlå’Œæºä»£ç 
COPY pom.xml .
COPY src ./src

# æ„å»ºé¡¹ç›®
RUN mvn clean package -DskipTests

# ç¬¬äºŒé˜¶æ®µï¼šè¿è¡Œé˜¶æ®?FROM openjdk:17-alpine

WORKDIR /app

# ä»æ„å»ºé˜¶æ®µå¤åˆ¶jaræ–‡ä»¶
COPY --from=builder /app/target/erpcrm-server-1.0.0-SNAPSHOT.jar app.jar

# æš´éœ²ç«¯å£
EXPOSE 8080

# å¯åŠ¨åº”ç”¨
ENTRYPOINT ["java", "-jar", "app.jar"]
